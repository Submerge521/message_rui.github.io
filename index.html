<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>微信服务号推送内容展示</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,.1);
        }
        h1 {
            color: #333;
        }
        p {
            line-height: 1.6;
            color: #555;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>微信服务号推送内容</h1>
    <div id="content"></div>
</div>

<script>
function decodeUrlEncodedString(encodedStr) {
    const urlEncodedChars = {
        '%20': ' ', // 空格
        '%21': '!', // 叹号
        // ... 其他字符替换 ...
    };

    return encodedStr.replace(/%[0-9A-F]{2}/gi, function(match) {
        return urlEncodedChars[match] || match; // 如果没有匹配的编码，则返回原字符
    });
}

function getBase64ContentFromUrl(url) {
    const regex = /(?:\?|&)(content=)([^&]+)/;
    const match = url.match(regex);
    if (match && match[2]) {
        return decodeURIComponent(decodeUrlEncodedString(match[2]));
    }
    return null;
}

document.addEventListener('DOMContentLoaded', function() {
    const content = getBase64ContentFromUrl(window.location.search);
    const contentDiv = document.getElementById('content');
    if (content) {
        contentDiv.innerHTML = `<p>${content}</p>`;
    } else {
        contentDiv.innerHTML = '<p>未找到内容。</p>';
    }
});
</script>

</body>
</html>
